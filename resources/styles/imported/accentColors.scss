* {
  /**
   * A scale of accent colors, using color-mix, from 90% white to 90% black.
   */
  --accent-color-50: color-mix(in srgb, var(--accent-color), #fff 90%);
  --accent-color-100: color-mix(in srgb, var(--accent-color), #fff 80%);
  --accent-color-200: color-mix(in srgb, var(--accent-color), #fff 60%);
  --accent-color-300: color-mix(in srgb, var(--accent-color), #fff 40%);
  --accent-color-400: color-mix(in srgb, var(--accent-color), #fff 20%);
  --accent-color-500: var(--accent-color);
  --accent-color-600: color-mix(in srgb, var(--accent-color), #000 20%);
  --accent-color-700: color-mix(in srgb, var(--accent-color), #000 40%);
  --accent-color-800: color-mix(in srgb, var(--accent-color), #000 60%);
  --accent-color-900: color-mix(in srgb, var(--accent-color), #000 80%);
  --accent-color-950: color-mix(in srgb, var(--accent-color), #000 90%);
  
  /**
   * This variable is either black or white - whichever has the highest contrast
   * with the accent color. This uses CIELAB perceptual lightness, a close but
   * different way to check contrast to the WCAG 2.1 contrast ratio. turns out
   * that 58% is a closer cut off to WCAG than 50%.
   */
  --accent-color-contrast: lab(from var(--accent-color) round(108 - L, 100) 0 0);

  /**
   * This variable based on AccentColorText is either var(--accent-color-dark)
   * or white. It does not guarantee contrast, but it does represent common web
   * design patterns.
   */

  /* This fallback is for Safari <18.0, because it is a bad browser made by bad people. */
  --accent-color-text: var(--accent-color-contrast);

  /* This @supports rule targets only Safari 18 and Chrome */
  @supports (selector(::view-transition)) {
    --accent-color-text: rgb(
      from color-mix( in srgb, var(--accent-color-contrast), var(--accent-color-dark))
      calc(2*r) calc(2*g) calc(2*b)
    );
  }

  /* This @supports rule targets Firefox */
  @supports (selector(::view-transition)) {
    --accent-color-text: rgb(
      from color-mix( in srgb, var(--accent-color-contrast), var(--accent-color-dark))
      calc(2*r) calc(2*g) calc(2*b)
    );
  }
}
